<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8">
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  <title>My PDF Library</title>
Â  <style>
Â  Â  body { 
Â  Â  Â  margin: 0; 
Â  Â  Â  font-family: Arial, sans-serif; 
Â  Â  Â  background: #f9fafc; 
Â  Â  Â  height: 100vh;
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  }
Â  Â  header { 
Â  Â  Â  background: #2563eb; 
Â  Â  Â  color: white; 
Â  Â  Â  padding: 15px 20px; 
Â  Â  Â  font-size: 1.4rem; 
Â  Â  Â  font-weight: bold; 
Â  Â  Â  display: flex; 
Â  Â  Â  align-items: center; 
Â  Â  }
Â  Â  .container { 
Â  Â  Â  display: grid; 
Â  Â  Â  grid-template-columns: 250px 1fr; 
Â  Â  Â  flex: 1; /* Allows container to grow and fill remaining height */
Â  Â  Â  overflow: hidden; /* Prevents scrollbars on the container itself */
Â  Â  }
Â  Â Â 
Â  Â  /* Sidebar */
Â  Â  .sidebar { 
Â  Â  Â  background: #ffffff; 
Â  Â  Â  border-right: 1px solid #ddd; 
Â  Â  Â  padding: 20px; 
Â  Â  Â  overflow-y: auto; 
Â  Â  }
Â  Â  .pdf-btn { 
Â  Â  Â  background: #f3f4f6; 
Â  Â  Â  color: #111; 
Â  Â  Â  margin-bottom: 12px; 
Â  Â  Â  padding: 12px; 
Â  Â  Â  border-radius: 8px; 
Â  Â  Â  cursor: pointer; 
Â  Â  Â  transition: 0.2s; 
Â  Â  Â  font-weight: 500; 
Â  Â  }
Â  Â  .pdf-btn:hover { 
Â  Â  Â  background: #2563eb; 
Â  Â  Â  color: white; 
Â  Â  }

Â  Â  /* Main viewer area */
Â  Â  .main { 
Â  Â  Â  background: #f0f4f9; 
Â  Â  Â  padding: 20px; 
Â  Â  Â  display: flex; 
Â  Â  Â  flex-direction: column; 
Â  Â  Â  overflow: hidden;
Â  Â  }
Â  Â  .viewer-card { 
Â  Â  Â  flex: 1; 
Â  Â  Â  background: white; 
Â  Â  Â  border-radius: 10px; 
Â  Â  Â  box-shadow: 0 4px 8px rgba(0,0,0,0.1); 
Â  Â  Â  padding: 10px; 
Â  Â  Â  display: flex; 
Â  Â  Â  flex-direction: column; 
Â  Â  }
Â  Â  iframe { 
Â  Â  Â  flex: 1; 
Â  Â  Â  width: 100%; 
Â  Â  Â  height: 100%; /* Ensures iframe fills its parent container */
Â  Â  Â  border: none; 
Â  Â  Â  border-radius: 6px; 
Â  Â  Â  margin-bottom: 12px; 
Â  Â  }

Â  Â  /* Notes */
Â  Â  .notes { 
Â  Â  Â  background: #f9fafc; 
Â  Â  Â  border-radius: 8px; 
Â  Â  Â  padding: 10px; 
Â  Â  Â  border: 1px solid #ddd; 
Â  Â  Â  display: none; /* Keep notes hidden by default */
Â  Â  Â  flex-direction: column;
Â  Â  }
Â  Â  .notes textarea { 
Â  Â  Â  flex: 1; /* Allows textarea to grow */
Â  Â  Â  width: 100%; 
Â  Â  Â  min-height: 100px;
Â  Â  Â  resize: vertical; /* Allow vertical resizing only */
Â  Â  Â  padding: 8px; 
Â  Â  Â  border-radius: 6px; 
Â  Â  Â  border: 1px solid #ccc; 
Â  Â  }
Â  Â  .notes button { 
Â  Â  Â  margin-top: 8px; 
Â  Â  Â  padding: 10px; 
Â  Â  Â  border: none; 
Â  Â  Â  border-radius: 6px; 
Â  Â  Â  background: #2563eb; 
Â  Â  Â  color: white; 
Â  Â  Â  font-weight: bold; 
Â  Â  Â  cursor: pointer; 
Â  Â  }
Â  Â  .notes button:hover { 
Â  Â  Â  background: #1d4ed8; 
Â  Â  }
Â  </style>
</head>
<body>
Â  <header>ğŸ“š My PDF Library</header>
Â  <div class="container">
Â  Â  <div class="sidebar" id="pdf-list"></div>
Â  Â  <div class="main">
Â  Â  Â  <div class="viewer-card">
Â  Â  Â  Â  <iframe id="pdf-viewer" src=""></iframe>
Â  Â  Â  Â  <div class="notes" id="notes-section">
Â  Â  Â  Â  Â  <textarea id="notes-text" placeholder="Write your notes here..."></textarea>
Â  Â  Â  Â  Â  <button id="save-button">ğŸ’¾ Save Notes</button>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  </div>
Â  </div>

Â  <script type="module">
Â  Â  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
Â  Â  import { getFirestore, doc, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

Â  Â  const firebaseConfig = {
Â  Â  Â  apiKey: "AIzaSyB_wQ7Iqt7ZaoNRok7g0ZINdWG24Dlklko",
Â  Â  Â  authDomain: "my-pdf-library-23f16.firebaseapp.com",
Â  Â  Â  projectId: "my-pdf-library-23f16",
Â  Â  Â  storageBucket: "my-pdf-library-23f16.firebasestorage.app",
Â  Â  Â  messagingSenderId: "670696936342",
Â  Â  Â  appId: "1:670696936342:web:e11b8118321899757143b7"
Â  Â  };

Â  Â  const app = initializeApp(firebaseConfig);
Â  Â  const db = getFirestore(app);

Â  Â  let currentPdf = null;
Â  Â  const pdfList = document.getElementById("pdf-list");
Â  Â  const pdfViewer = document.getElementById("pdf-viewer");
Â  Â  const notesSection = document.getElementById("notes-section");
Â  Â  const notesText = document.getElementById("notes-text");
Â  Â  const saveButton = document.getElementById("save-button");

Â  Â  async function loadPDFs() {
Â  Â  Â  try {
Â  Â  Â  Â  const response = await fetch("pdfs.json");
Â  Â  Â  Â  if (!response.ok) {
Â  Â  Â  Â  Â  throw new Error(`HTTP error! status: ${response.status}`);
Â  Â  Â  Â  }
Â  Â  Â  Â  const pdfs = await response.json();

Â  Â  Â  Â  pdfs.forEach(pdf => {
Â  Â  Â  Â  Â  const btn = document.createElement("div");
Â  Â  Â  Â  Â  btn.className = "pdf-btn";
Â  Â  Â  Â  Â  btn.textContent = "ğŸ“– " + pdf.name;
Â  Â  Â  Â  Â  btn.onclick = async () => {
Â  Â  Â  Â  Â  Â  pdfViewer.src = pdf.file;
Â  Â  Â  Â  Â  Â  currentPdf = pdf.name;
Â  Â  Â  Â  Â  Â  notesSection.style.display = "flex";

Â  Â  Â  Â  Â  Â  const docRef = doc(db, "notes", currentPdf);
Â  Â  Â  Â  Â  Â  const docSnap = await getDoc(docRef);
Â  Â  Â  Â  Â  Â  notesText.value = docSnap.exists() ? docSnap.data().content : "";
Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  pdfList.appendChild(btn);
Â  Â  Â  Â  });
Â  Â  Â  } catch (e) {
Â  Â  Â  Â  console.error("Error loading PDFs:", e);
Â  Â  Â  Â  const errorMsg = document.createElement("p");
Â  Â  Â  Â  errorMsg.textContent = "Error: Could not load PDF list. Check the console for details.";
Â  Â  Â  Â  pdfList.appendChild(errorMsg);
Â  Â  Â  }
Â  Â  }

Â  Â  async function saveNotes() {
Â  Â  Â  if (currentPdf) {
Â  Â  Â  Â  const docRef = doc(db, "notes", currentPdf);
Â  Â  Â  Â  await setDoc(docRef, { content: notesText.value });
Â  Â  Â  Â  alert("âœ… Notes saved to cloud!");
Â  Â  Â  } else {
Â  Â  Â  Â  alert("âš ï¸ Open a PDF first!");
Â  Â  Â  }
Â  Â  }

Â  Â  saveButton.addEventListener('click', saveNotes);
Â  Â  loadPDFs();
Â  </script>
</body>
</html>
