<head>
Â  <meta charset="UTF-8">
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  <title>My PDF Library</title>
Â  <style>
Â  Â  /* ... your CSS styles */
Â  </style>
</head>
<body>
Â  Â  <script type="module">
Â  Â  // Explicitly import Firebase libraries as modules
Â  Â  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
Â  Â  import { getFirestore, doc, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

Â  Â  // ğŸ”¹ Firebase Config
Â  Â  const firebaseConfig = {
Â  Â  Â  apiKey: "AIzaSyB_wQ7Iqt7ZaoNRok7g0ZINdWG24Dlklko",
Â  Â  Â  authDomain: "my-pdf-library-23f16.firebaseapp.com",
Â  Â  Â  projectId: "my-pdf-library-23f16",
Â  Â  Â  storageBucket: "my-pdf-library-23f16.firebasestorage.app",
Â  Â  Â  messagingSenderId: "670696936342",
Â  Â  Â  appId: "1:670696936342:web:e11b8118321899757143b7"
Â  Â  };

Â  Â  // Initialize Firebase and Firestore
Â  Â  const app = initializeApp(firebaseConfig);
Â  Â  const db = getFirestore(app);

Â  Â  let currentPdf = null;

Â  Â  async function loadPDFs() {
Â  Â  Â  const response = await fetch("pdfs.json");
Â  Â  Â  const pdfs = await response.json();

Â  Â  Â  const list = document.getElementById("pdf-list");
Â  Â  Â  const viewer = document.getElementById("pdf-viewer");
Â  Â  Â  const notesSection = document.getElementById("notes-section");
Â  Â  Â  const notesText = document.getElementById("notes-text");

Â  Â  Â  pdfs.forEach(pdf => {
Â  Â  Â  Â  const btn = document.createElement("div");
Â  Â  Â  Â  btn.className = "pdf-btn";
Â  Â  Â  Â  btn.textContent = "ğŸ“– " + pdf.name;
Â  Â  Â  Â  btn.onclick = async () => {
Â  Â  Â  Â  Â  viewer.src = pdf.file;
Â  Â  Â  Â  Â  currentPdf = pdf.file;
Â  Â  Â  Â  Â  notesSection.style.display = "flex";

Â  Â  Â  Â  Â  // Load notes from Firestore
Â  Â  Â  Â  Â  const docRef = doc(db, "notes", currentPdf);
Â  Â  Â  Â  Â  const docSnap = await getDoc(docRef);
Â  Â  Â  Â  Â  notesText.value = docSnap.exists() ? docSnap.data().content : "";
Â  Â  Â  Â  };
Â  Â  Â  Â  list.appendChild(btn);
Â  Â  Â  });
Â  Â  }

Â  Â  async function saveNotes() {
Â  Â  Â  const notesText = document.getElementById("notes-text").value;
Â  Â  Â  if (currentPdf) {
Â  Â  Â  Â  const docRef = doc(db, "notes", currentPdf);
Â  Â  Â  Â  await setDoc(docRef, { content: notesText });
Â  Â  Â  Â  alert("âœ… Notes saved to cloud!");
Â  Â  Â  } else {
Â  Â  Â  Â  alert("âš ï¸ Open a PDF first!");
Â  Â  Â  }
Â  Â  }

Â  Â  loadPDFs();
Â  </script>
</body>
</html>
