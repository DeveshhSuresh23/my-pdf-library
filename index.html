<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8">
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  <title>My PDF Library</title>
Â  <style>
Â  Â  body { margin: 0; font-family: Arial, sans-serif; background: #f9fafc; }
Â  Â  header { background: #2563eb; color: white; padding: 15px 20px; font-size: 1.4rem; font-weight: bold; display: flex; align-items: center; }
Â  Â  .container { display: grid; grid-template-columns: 250px 1fr; height: calc(100vh - 60px); }
Â  Â Â 
Â  Â  /* Sidebar */
Â  Â  .sidebar { background: #ffffff; border-right: 1px solid #ddd; padding: 20px; overflow-y: auto; }
Â  Â  .pdf-btn { background: #f3f4f6; color: #111; margin-bottom: 12px; padding: 12px; border-radius: 8px; cursor: pointer; transition: 0.2s; font-weight: 500; }
Â  Â  .pdf-btn:hover { background: #2563eb; color: white; }

Â  Â  /* Main viewer area */
Â  Â  .main { background: #f0f4f9; padding: 20px; display: flex; flex-direction: column; }
Â  Â  .viewer-card { flex: 1; background: white; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); padding: 10px; display: flex; flex-direction: column; }
Â  Â  iframe { flex: 1; width: 100%; border: none; border-radius: 6px; margin-bottom: 12px; }

Â  Â  /* Notes */
Â  Â  .notes { background: #f9fafc; border-radius: 8px; padding: 10px; display: none; flex-direction: column; border: 1px solid #ddd; }
Â  Â  .notes textarea { width: 100%; height: 100px; resize: none; padding: 8px; border-radius: 6px; border: 1px solid #ccc; }
Â  Â  .notes button { margin-top: 8px; padding: 10px; border: none; border-radius: 6px; background: #2563eb; color: white; font-weight: bold; cursor: pointer; }
Â  Â  .notes button:hover { background: #1d4ed8; }
Â  </style>
</head>
<body>
Â  <header>ğŸ“š My PDF Library</header>
Â  <div class="container">
Â  Â  <div class="sidebar" id="pdf-list"></div>
Â  Â  <div class="main">
Â  Â  Â  <div class="viewer-card">
Â  Â  Â  Â  <iframe id="pdf-viewer" src=""></iframe>
Â  Â  Â  Â  <div class="notes" id="notes-section">
Â  Â  Â  Â  Â  <textarea id="notes-text" placeholder="Write your notes here..."></textarea>
Â  Â  Â  Â  Â  <button id="save-button">ğŸ’¾ Save Notes</button>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  </div>
Â  </div>

Â  <script type="module">
Â  Â  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
Â  Â  import { getFirestore, doc, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

Â  Â  const firebaseConfig = {
Â  Â  Â  apiKey: "AIzaSyB_wQ7Iqt7ZaoNRok7g0ZINdWG24Dlklko",
Â  Â  Â  authDomain: "my-pdf-library-23f16.firebaseapp.com",
Â  Â  Â  projectId: "my-pdf-library-23f16",
Â  Â  Â  storageBucket: "my-pdf-library-23f16.firebasestorage.app",
Â  Â  Â  messagingSenderId: "670696936342",
Â  Â  Â  appId: "1:670696936342:web:e11b8118321899757143b7"
Â  Â  };

Â  Â  const app = initializeApp(firebaseConfig);
Â  Â  const db = getFirestore(app);

Â  Â  let currentPdf = null;
Â  Â  const pdfList = document.getElementById("pdf-list");
Â  Â  const pdfViewer = document.getElementById("pdf-viewer");
Â  Â  const notesSection = document.getElementById("notes-section");
Â  Â  const notesText = document.getElementById("notes-text");
Â  Â  const saveButton = document.getElementById("save-button");

Â  Â  async function loadPDFs() {
Â  Â  Â  try {
Â  Â  Â  Â  const response = await fetch("pdfs.json");
Â  Â  Â  Â  if (!response.ok) {
Â  Â  Â  Â  Â  throw new Error(`HTTP error! status: ${response.status}`);
Â  Â  Â  Â  }
Â  Â  Â  Â  const pdfs = await response.json();

Â  Â  Â  Â  pdfs.forEach(pdf => {
Â  Â  Â  Â  Â  const btn = document.createElement("div");
Â  Â  Â  Â  Â  btn.className = "pdf-btn";
Â  Â  Â  Â  Â  btn.textContent = "ğŸ“– " + pdf.name;
Â  Â  Â  Â  Â  btn.onclick = async () => {
Â  Â  Â  Â  Â  Â  pdfViewer.src = pdf.file;
Â  Â  Â  Â  Â  Â  currentPdf = pdf.file;
Â  Â  Â  Â  Â  Â  notesSection.style.display = "flex";

Â  Â  Â  Â  Â  Â  const docRef = doc(db, "notes", currentPdf);
Â  Â  Â  Â  Â  Â  const docSnap = await getDoc(docRef);
Â  Â  Â  Â  Â  Â  notesText.value = docSnap.exists() ? docSnap.data().content : "";
Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  pdfList.appendChild(btn);
Â  Â  Â  Â  });
Â  Â  Â  } catch (e) {
Â  Â  Â  Â  console.error("Error loading PDFs:", e);
Â  Â  Â  Â  const errorMsg = document.createElement("p");
Â  Â  Â  Â  errorMsg.textContent = "Error: Could not load PDF list. Check the console for details.";
Â  Â  Â  Â  pdfList.appendChild(errorMsg);
Â  Â  Â  }
Â  Â  }

Â  Â  async function saveNotes() {
Â  Â  Â  if (currentPdf) {
Â  Â  Â  Â  const docRef = doc(db, "notes", currentPdf);
Â  Â  Â  Â  await setDoc(docRef, { content: notesText.value });
Â  Â  Â  Â  alert("âœ… Notes saved to cloud!");
Â  Â  Â  } else {
Â  Â  Â  Â  alert("âš ï¸ Open a PDF first!");
Â  Â  Â  }
Â  Â  }

Â  Â  saveButton.addEventListener('click', saveNotes);
Â  Â  loadPDFs();
Â  </script>
</body>
</html>
